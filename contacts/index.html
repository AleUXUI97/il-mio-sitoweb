<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contacts â€“ Alessandro Toscano</title>

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <!-- Main CSS -->
  <link rel="stylesheet" href="../dist/css/main.css" />

  <style>
    /* Assicura che il feedback sia sempre visibile */
    #form-feedback {
      display: block !important;
      width: 100%;
      margin-top: 10px;
    }

    #form-feedback .alert {
      display: block !important;
    }
  </style>
</head>
<body class="contacts-page">

  <div class="contacts-wrapper">

    <!-- NAVBAR -->
    <header class="menu-nav-container">
      <nav class="navbar navbar-expand-lg">
        <div class="container">
          <a class="navbar-brand" href="../index.html">
            <img src="../assets/img/SVG/PNG/favicon-nome-cognome.png" alt="Alessandro UX/UI Designer logo" height="32" />
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar" aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="mainNavbar">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0 gap-lg-4">
              <li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
              <li class="nav-item"><a class="nav-link" href="../about.html">About</a></li>
              <li class="nav-item"><a class="nav-link" href="../portfolio/">Portfolio</a></li>
              <li class="nav-item"><a class="nav-link active" href="index.html">Contacts</a></li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <!-- FORM CONTATTI -->
    <main style="padding-top: 100px;">
      <section id="contact-form" class="contact-form-section">
        <div class="container">
          <h1 class="contact-title">Send Me a Message</h1>
          <p class="contact-description">
            Fill out the form below to get in touch about work, projects, or collaborations.
          </p>

          <form id="contactForm" class="contact-form">
            <label for="name">Name</label>
            <input type="text" id="name" name="from_name" placeholder="Your Name" required />

            <label for="email">Email</label>
            <input type="email" id="email" name="from_email" placeholder="Your Email" required />

            <label for="message">Message</label>
            <textarea id="message" name="message" placeholder="Your Message" rows="6" required></textarea>

            <button type="submit" class="btn-cta btn-lg mt-3">Send Message</button>

            <div id="form-feedback"></div>
          </form>
        </div>
      </section>
    </main>

  </div> <!-- /contacts-wrapper -->

  <!-- FOOTER -->
  <footer class="site-footer text-center py-3">
    &copy; 2026 Alessandro Toscano. All Rights Reserved.
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- EmailJS SDK classico -->
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
    // Inizializzazione EmailJS
    emailjs.init('eQzyWfdk8JpP1GrHV'); // Public Key

    const form = document.getElementById('contactForm');
    const feedback = document.getElementById('form-feedback');

    form.addEventListener('submit', function(e){
      e.preventDefault();

      console.log('Invio form iniziato...');

      emailjs.sendForm('service_kwzpq9n', 'template_2jqd9b9', this)
        .then(() => {
          console.log('Email inviata con successo');
          feedback.innerHTML = '<div class="alert alert-success alert-dismissible fade show" role="alert">Message sent successfully!</div>';
          
          // Reset del form leggermente ritardato per garantire che il feedback sia visibile
          setTimeout(() => { form.reset(); }, 500);

          // Rimuove il feedback dopo 5 secondi
          setTimeout(() => { feedback.innerHTML = ''; }, 5000);
        })
        .catch((err) => {
          console.error('Errore EmailJS:', err);
          feedback.innerHTML = '<div class="alert alert-danger alert-dismissible fade show" role="alert">Oops... something went wrong. Please try again later.</div>';
          setTimeout(() => { feedback.innerHTML = ''; }, 5000);
        });
    });
  </script>

</body>
</html>
